(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{40:function(t,e,a){"use strict";a.d(e,"j",(function(){return f})),a.d(e,"c",(function(){return s})),a.d(e,"d",(function(){return i})),a.d(e,"b",(function(){return o})),a.d(e,"h",(function(){return c})),a.d(e,"i",(function(){return h})),a.d(e,"g",(function(){return d})),a.d(e,"f",(function(){return g})),a.d(e,"l",(function(){return p})),a.d(e,"k",(function(){return v})),a.d(e,"a",(function(){return r})),a.d(e,"e",(function(){return l})),a.d(e,"m",(function(){return m}));var n=a(6);function s(t){var e=t.id;return Object(n.b)({method:"post",url:"/checkGameIdExist",data:{id:e}})}function i(t){return p(t.originId)?t.gameName?0===t.checkbox.length?(this.$Message.error("选择作弊方式"),!1):4!==t.captcha.length?(this.$Message.error("正确填写验证码"),!1):0===p(t.description).length?(this.$Message.error("论述必填"),!1):void 0:(this.$Message.error("选择游戏"),!1):(this.$Message.error("请填写举报游戏ID"),!1)}var r=[{value:"stealth",label:"隐身"},{value:"wallhack",label:"透视"},{value:"aimbot",label:"自瞄"},{value:"oneShotKill",label:"秒杀"},{value:"gadgetModify",label:"改装备"},{value:"damageChange",label:"改伤"},{value:"shootingThroughWalls",label:"子弹穿墙"}];function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t||"",a=[];return _.each(e.split(","),(function(t){_.each(r,(function(e,n){e.value===t&&a.push(e.label)}))})),a.sort().reverse().join(" ")}var o=[{value:"0",label:"未处理"},{value:"5",label:"回复讨论中"},{value:"6",label:"等待管理确认"},{value:"1",label:"认为石锤"},{value:"2",label:"嫌疑再观察"},{value:"3",label:"认为没开挂"},{value:"4",label:"回收站"}],u=[{value:"bf1",label:"战地1"},{value:"bfv",label:"战地v"}];function c(t){var e=_.find(o,(function(e,a){return e.value===t}));return e?e.label:""}function h(t){var e=_.find(u,(function(e,a){return e.value===t}));return e?e.label:""}function d(t){var e=t;return e=function(t){return t.replace(/([a-z\-_0-9\/\:\.]*\.(jpg|jpeg|png|gif))/gi,(function(t){return'<img src="'.concat(t,'" />')}))}(e=function(t){return t.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,(function(t){return/(jpg|jpeg|png|gif)$/gi.test(t)?t:-1!==new URL(t).hostname.indexOf("bfban.com")?'<a href="'.concat(t,'">').concat(t,"</a>"):'<a target="_blank" href="'.concat(t,'">').concat(t,"</a>")}))}(e=function(t){return t.replace(/\r\n|\r|\n/g,"<br />")}(e)))}function g(t){var e=moment.tz.guess();return moment(t).clone().tz(e).format("YYYY-MM-DD HH:mm:ss")}function p(t){return t.replace(/\s+/g,"")}function v(t){return/\s+/.test(t)}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,e=this;e.style="display: none;";var a=document.createElement("span");e.parentNode.insertBefore(a,e.nextSibling);var n=t;a.innerText="等待 ".concat(n," 秒后重试");var s=setInterval((function(){n>1?(n-=1,a.innerText="等待 ".concat(n," 秒重试")):(e.style="",a.innerText="",clearInterval(s))}),1e3)}function f(t){return t.replace(/\s+(src)=/gi," data-src=")}},46:function(t,e,a){},61:function(t,e,a){"use strict";var n=a(46);a.n(n).a},67:function(t,e,a){"use strict";a.r(e);var n=a(40),s=a(6);new ClipboardJS(".ivu-btn");var i={data:function(){return{data:[],spinShow:!0,gameName:"bf1",statusGroup:"",cd:["",""],ud:["",""],page:1,limit:10,total:0,sum:[],totalSum:[],sortBy:[{value:"createDatetime",label:"举报时间倒序"},{value:"updateDatetime",label:"更新时间倒序"},{value:"n",label:"围观次数倒序"},{value:"commentsNum",label:"回复次数倒序"}],sortByValue:"updateDatetime",cheaterStatus:n.b}},created:function(){this.loadData()},watch:{$route:"loadData"},computed:{getAllStatusNum:function(){return _.sumBy(this.sum,(function(t){return t?t.num:0}))}},methods:{getTotalNum:function(t){var e=_.find(this.totalSum,["game",t]);return e?e.num:0},getStatusNum:function(t){var e=_.find(this.sum,["status",t]);return e?e.num:0},copied:function(){this.$Message.info("已复制")},loadData:function(){var t=this,e=this.$route.query,a=e.game,n=void 0===a?"bf1":a,i=e.status,r=void 0===i?"100":i,l=e.cd,o=void 0===l?"":l,u=e.ud,c=void 0===u?"":u,h=e.page,d=void 0===h?1:h,g=e.sort,p=void 0===g?"updateDatetime":g,v=e.limit,m=void 0===v?10:v,f={method:"get",url:"/cheaters/"};f.params={game:n,status:r,cd:o,ud:c,page:d,sort:p,tz:moment.tz.guess(),limit:m},this.gameName=n,this.statusGroup=r,this.cd=o.split(","),this.ud=c.split(","),this.page=Number.parseInt(d),this.limit=Number.parseInt(m),this.sortByValue=p,Object(s.b)(f).then((function(e){var a=e.data,n=a.data,s=a.total,i=a.sum,r=a.totalSum;t.spinShow=!1,t.data=n,t.total=s,t.sum=i,t.totalSum=r}))},handleStatus:n.h,handleRefresh:function(){this.spinShow=!0,this.loadData()},routerQuery:function(){var t=this.gameName,e=this.statusGroup,a=this.cd.join(","),n=this.ud.join(","),s=this.page,i=this.limit,r=this.sortByValue,l={};return l.status=e,","!==a&&(l.cd=a),","!==n&&(l.ud=n),1!==s&&(l.page=s),l.limit=i,""!==r&&(l.sort=r),""!==t&&(l.game=t),l},handleChanges:function(){this.spinShow=!0;var t=this.routerQuery();this.$router.push({name:"cheaters",query:t})},handleStatusChange:function(){this.page=1,this.handleChanges()},handleCDatepicker:function(t){this.cd=t,this.page=1,this.handleChanges()},handleUDatepicker:function(t){this.ud=t,this.page=1,this.handleChanges()},handlePageChange:function(t){this.page=t,this.handleChanges()},handlePageSizeChange:function(t){this.limit=t,this.handleChanges()},convertCheatMethods:function(t){var e={wallhack:"透视",damageChange:"改伤",aimbot:"自瞄",oneShotKill:"秒杀",gadgetModify:"改装备",stealth:"隐身",shootingThroughWalls:"子弹穿墙"};return t.split(",").map((function(t,a){return e[t]})).join(" ")},handleSortByChange:function(t){this.handleChanges()}}},r=(a(61),a(1)),l=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"content"},[a("Divider",[t._v(t._s(t.$t("list.title")))]),t._v(" "),a("p",[a("RadioGroup",{attrs:{type:"button"},on:{"on-change":t.handleChanges},model:{value:t.gameName,callback:function(e){t.gameName=e},expression:"gameName"}},[a("Radio",{attrs:{label:"bf1"}},[a("span",[t._v(t._s(t.$t("list.filters.game.bf1"))+"("+t._s(t.getTotalNum("bf1"))+")")])]),t._v(" "),a("Radio",{attrs:{label:"bfv"}},[a("span",[t._v(t._s(t.$t("list.filters.game.bfv"))+"("+t._s(t.getTotalNum("bfv"))+")")])])],1)],1),t._v(" "),a("p",{staticClass:"mobile-hide"},[a("RadioGroup",{attrs:{type:"button"},on:{"on-change":t.handleStatusChange},model:{value:t.statusGroup,callback:function(e){t.statusGroup=e},expression:"statusGroup"}},[a("Radio",{attrs:{label:"100"}},[a("span",[t._v(t._s(t.$t("list.filters.status.all"))+"("+t._s(t.getAllStatusNum)+")")])]),t._v(" "),t._l(t.cheaterStatus,(function(e){return a("Radio",{key:e.value,attrs:{label:""+e.value}},[a("span",[t._v(t._s(e.label)+"("+t._s(t.getStatusNum(e.value))+")")])])}))],2)],1),t._v(" "),a("p",[a("span",{staticClass:"mobile-hide"},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{value:t.cd,type:"daterange","split-panels":"",placeholder:"举报时间范围"},on:{"on-change":t.handleCDatepicker}}),t._v(" "),a("DatePicker",{staticStyle:{width:"200px"},attrs:{value:t.ud,type:"daterange","split-panels":"",placeholder:"更新时间范围"},on:{"on-change":t.handleUDatepicker}})],1),t._v(" "),a("Select",{staticClass:"desktop-hide",staticStyle:{width:"110px"},on:{"on-change":t.handleChanges},model:{value:t.statusGroup,callback:function(e){t.statusGroup=e},expression:"statusGroup"}},[a("Option",{attrs:{value:"100"}},[t._v(t._s(t.$t("list.filters.status.all"))+"("+t._s(t.getAllStatusNum)+")")]),t._v(" "),t._l(t.cheaterStatus,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label)+"("+t._s(t.getStatusNum(e.value))+")")])}))],2),t._v(" "),a("Select",{staticStyle:{width:"110px"},on:{"on-change":t.handleSortByChange},model:{value:t.sortByValue,callback:function(e){t.sortByValue=e},expression:"sortByValue"}},t._l(t.sortBy,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1),t._v(" "),a("p",[a("Button",{attrs:{icon:"ios-refresh"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.handleRefresh(e)}}},[t._v(t._s(t.$t("list.filters.refresh")))])],1),t._v(" "),a("div",{staticClass:"list"},[a("Page",{staticClass:"page",attrs:{"page-size":t.limit,"show-sizer":"","show-total":"",current:t.page,total:t.total,size:"small"},on:{"on-change":t.handlePageChange,"on-page-size-change":t.handlePageSizeChange}}),t._v(" "),a("ul",[t._m(0),t._v(" "),t._l(t.data,(function(e){return a("li",{key:e.originUserId},[a("span",{staticStyle:{display:"flex","align-items":"center"}},[a("img",{staticStyle:{width:"2.3rem",height:"2.3rem","border-radius":"2.3rem","margin-right":".4rem"},attrs:{src:e.avatarLink||"//bfban-static.bamket.com/assets/images/avatar.png",alt:"avatar"}}),t._v(" "),a("div",{staticStyle:{display:"flex","flex-direction":"column"}},[a("div",{staticStyle:{height:"1.6rem"}},[a("router-link",{attrs:{to:{name:"cheater",params:{ouid:""+e.originUserId}}}},[t._v(t._s(e.originId))]),t._v(" "),a("Button",{attrs:{size:"small",type:"text",icon:"ios-copy-outline","data-clipboard-text":e.originId},on:{click:t.copied}})],1),t._v(" "),a("span",[a("Icon",{attrs:{type:"md-eye"}}),t._v(" "+t._s(e.n)+"\n            "),a("Icon",{attrs:{type:"md-chatboxes"}}),t._v(" "+t._s(e.commentsNum)+"\n          ")],1)])]),t._v(" "),a("span",{staticClass:"mobile-hide"},[e.createDatetime?a("Time",{attrs:{time:e.createDatetime}}):t._e()],1),t._v(" "),a("span",[e.updateDatetime?a("Time",{attrs:{time:e.updateDatetime}}):t._e()],1)])}))],2),t._v(" "),a("Page",{staticClass:"page",attrs:{"page-size":t.limit,"show-sizer":"","show-total":"",current:t.page,total:t.total,size:"small"},on:{"on-change":t.handlePageChange,"on-page-size-change":t.handlePageSizeChange}}),t._v(" "),a("Spin",{directives:[{name:"show",rawName:"v-show",value:t.spinShow,expression:"spinShow"}],attrs:{size:"large",fix:""}})],1)],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",[e("b",[this._v("游戏ID")])]),this._v(" "),e("span",{staticClass:"mobile-hide"},[e("b",[this._v("举报时间")])]),this._v(" "),e("span",[e("b",[this._v("更新时间")])])])}],!1,null,"d21accde",null);e.default=l.exports}}]);